function encerrarSessao(){$.ajax({url:"/painel-dlx/login/encerrar-sessao",type:"get",dataType:"json",success:function(s){"sucesso"===s.retorno?window.location="/":alert(s.mensagem)}})}function fecharPopupGerenciarConfiguracoes(){$("#popup-gerenciar-permissoes").fadeOut("fast",function(){$(this).remove(),$(window).off("keyup.__gerenciarPermissoes")})}function popupGerenciarConfiguracoes(s){$("#popup-gerenciar-permissoes").length<1&&$.get("/painel-dlx/grupos-de-usuarios/permissoes",{grupo_usuario_id:s,"pg-mestra":"conteudo-master"},function(s){$(document.createElement("div")).attr("id","popup-gerenciar-permissoes").addClass("popup-modal").html(s).appendTo($("body")),$(window).on("keyup.__gerenciarPermissoes",function(s){27===(s.keycode||s.which)&&fecharPopupGerenciarConfiguracoes()})})}function excluirUsuario(s){return confirm("Deseja realmente excluir esse usuário?")&&$.post("/painel-dlx/usuarios/excluir-usuario",{usuario_id:s},function(s,e,a){"sucesso"===s.retorno&&(msgUsuario.adicionar(s.mensagem,s.retorno,a.id),window.location.reload()),msgUsuario.mostrar(s.mensagem,s.retorno,a.id)},"json"),!1}function excluirGrupoUsuario(s){return confirm("Deseja realmente excluir esse grupo de usuário?")&&$.ajax({url:"/painel-dlx/grupos-de-usuarios/excluir",type:"post",data:{grupo_usuario_id:s},dataType:"json",success:function(s,e,a){if("sucesso"===s.retorno)return msgUsuario.adicionar(s.mensagem,s.retorno,a.id),void window.location.reload();msgUsuario.mostrar(s.mensagem,s.retorno,a.id)}}),!1}function excluirConfigSmtp(s){return confirm("Deseja realmente excluir essa configuração SMTP?")&&$.post("/painel-dlx/config-smtp/excluir-config-smtp",{config_smtp_id:s},function(s,e,a){msgUsuario.adicionar(s.mensagem,s.retorno,a.id),"sucesso"===s.retorno&&window.location.reload()},"json"),!1}function testarConfigSmtp(s){$.get("/painel-dlx/config-smtp/testar",{config_smtp_id:s},function(s,e,a){msgUsuario.mostrar(s.mensagem,s.retorno,a.id)},"json")}function adicionarPermissao(s){$(s).removeAttr("onclick").attr("onclick","retirarPermissao(this)").appendTo($("#lista-permissoes-grupo")).find(":checkbox").prop("checked",!0)}function retirarPermissao(s){$(s).removeAttr("onclick").attr("onclick","adicionarPermissao(this)").appendTo($("#lista-permissoes-sistema")).find(":checkbox").prop("checked",!1)}function excluirPermissaoUsuario(s){return confirm("Deseja realmente excluir essa permissão?")&&$.ajax({url:"/painel-dlx/permissoes/excluir-permissao",type:"post",data:{permissao_usuario_id:s},dataType:"json",success:function(s,e,a){if("sucesso"===s.retorno)return msgUsuario.adicionar(s.mensagem,s.retorno,a.id),void window.location.reload();msgUsuario.mostrar(s.mensagem,s.retorno,a.id)}}),!1}$(".menu-lateral-item[data-mostrar-html]").on("click",function(){var s=$(this),e=s.parents(".menu-lateral"),a=[],o=s.data("mostrar-html");s.hasClass("ativo")||(e.find(".menu-lateral-item[data-mostrar-html]").each(function(){a.push($(this).data("mostrar-html"))}),a=a.join(", "),$(a).hide(),$(o).show(),e.find(".menu-lateral-item.ativo").removeClass("ativo"),s.addClass("ativo"))}),$(window).on("load.__widgets",function(){$("[data-widget-url]").each(function(){var s=$(this),e=s.data("widget-url");$.get(e,{"pg-mestra":"conteudo-master"},function(e){s.find(".widget-home-conteudo").html(e)})})});var msgUsuario={msgs:{},init:function(){this.msgs=this.parse()},parse:function(){var s=window.sessionStorage.getItem("ajax-msg")||"{}";return s=JSON.parse(s)},adicionar:function(s,e,a){this.msgs[e]=void 0===this.msgs[e]?[]:this.msgs[e],this.msgs[e].push({mensagem:s,id:a}),this.salvar()},exibirTodas:function(){for(var s in this.msgs)for(var e in this.msgs[s])this.exibir(s,e)},exibir:function(s,e){var a=this.msgs[s][e];this.mostrar(a.mensagem,s,a.id),this.msgs[s].splice(e,1),this.salvar()},salvar:function(){window.sessionStorage.setItem("ajax-msg",JSON.stringify(this.msgs))},mostrar:function(s,e,a){a=a||this.uuid();var o=$("#"+a);if(o.length>0)return o.removeClass("-processando").addClass("-"+e).find(".status-ajax-texto").html(s),!0;var r=$(document.createElement("div")).addClass("status-ajax-msg").addClass("-"+e).attr("id",a).appendTo($("#status-ajax"));return $(document.createElement("a")).addClass("status-ajax-texto").html(s).appendTo(r),$(document.createElement("a")).addClass("status-ajax-fechar").text("x").attr({href:"javascript:",title:"Fechar"}).on("click",function(){$(this).parents(".status-ajax-msg").fadeOut("fast",function(){$(this).remove()})}).appendTo(r),!0},uuid:function(){return"status-ajax-msg-"+Math.random().toString(36).substr(2,16)}};msgUsuario.init(),msgUsuario.exibirTodas(),$.ajaxSetup({global:!0,beforeSend:function(s){var e=$(document.activeElement).data("ajax-msg")||"Carregando, por favor aguarde.";s.id=msgUsuario.uuid(),msgUsuario.mostrar(e,"processando",s.id)},error:function(s){var e="ERRO "+s.status+" - "+s.statusText+": "+s.responseText;msgUsuario.mostrar(e,"erro",s.id)},complete:function(s){window.setTimeout(function(){$("#"+s.id).find(".status-ajax-fechar").trigger("click")},7e3)}});