function encerrarSessao(){$.ajax({url:"/painel-dlx/login/encerrar-sessao",type:"get",dataType:"json",success:function(s){"sucesso"===s.retorno?window.location="/":alert(s.mensagem)}})}function fecharPopupGerenciarConfiguracoes(){$("#popup-gerenciar-permissoes").fadeOut("fast",function(){$(this).remove(),$(window).off("keyup.__gerenciarPermissoes")})}function popupGerenciarConfiguracoes(s){$("#popup-gerenciar-permissoes").length<1&&$.get("/painel-dlx/grupos-de-usuarios/permissoes",{grupo_usuario_id:s,"pg-mestra":"conteudo-master"},function(s){$(document.createElement("div")).attr("id","popup-gerenciar-permissoes").addClass("popup-modal").html(s).appendTo($("body")),$(window).on("keyup.__gerenciarPermissoes",function(s){27===(s.keycode||s.which)&&fecharPopupGerenciarConfiguracoes()})})}function excluirUsuario(s){return confirm("Deseja realmente excluir esse usuário?")&&$.post("/painel-dlx/usuarios/excluir-usuario",{usuario_id:s},function(s,a,e){"sucesso"===s.retorno&&(window.ajaxMsg.add(s.mensagem,s.retorno,e.id),window.location.reload()),window.ajaxMsg.mostrarMsgAjax(s.mensagem,s.retorno,e.id)},"json"),!1}function excluirGrupoUsuario(s){return confirm("Deseja realmente excluir esse grupo de usuário?")&&$.ajax({url:"/painel-dlx/grupos-de-usuarios/excluir",type:"post",data:{grupo_usuario_id:s},dataType:"json",success:function(s,a,e){if("sucesso"===s.retorno)return window.ajaxMsg.add(s.mensagem,s.retorno,e.id),void window.location.reload();window.ajaxMsg.mostrarMsgAjax(s.mensagem,s.retorno,e.id)}}),!1}function excluirConfigSmtp(s){return confirm("Deseja realmente excluir essa configuração SMTP?")&&$.post("/painel-dlx/config-smtp/excluir-config-smtp",{config_smtp_id:s},function(s,a,e){window.ajaxMsg.add(s.mensagem,s.retorno,e.id),"sucesso"===s.retorno&&window.location.reload()},"json"),!1}function testarConfigSmtp(s){$.get("/painel-dlx/config-smtp/testar",{config_smtp_id:s},function(s,a,e){window.ajaxMsg.mostrarMsgAjax(s.mensagem,s.retorno,e.id)},"json")}function adicionarPermissao(s){$(s).removeAttr("onclick").attr("onclick","retirarPermissao(this)").appendTo($("#lista-permissoes-grupo")).find(":checkbox").prop("checked",!0)}function retirarPermissao(s){$(s).removeAttr("onclick").attr("onclick","adicionarPermissao(this)").appendTo($("#lista-permissoes-sistema")).find(":checkbox").prop("checked",!1)}function excluirPermissaoUsuario(s){return confirm("Deseja realmente excluir essa permissão?")&&$.ajax({url:"/painel-dlx/permissoes/excluir-permissao",type:"post",data:{permissao_usuario_id:s},dataType:"json",success:function(s,a,e){if("sucesso"===s.retorno)return window.ajaxMsg.add(s.mensagem,s.retorno,e.id),void window.location.reload();window.ajaxMsg.mostrarMsgAjax(s.mensagem,s.retorno,e.id)}}),!1}$(".menu-lateral-item[data-mostrar-html]").on("click",function(){var s=$(this),a=s.parents(".menu-lateral"),e=[],o=s.data("mostrar-html");s.hasClass("ativo")||(a.find(".menu-lateral-item[data-mostrar-html]").each(function(){e.push($(this).data("mostrar-html"))}),e=e.join(", "),$(e).hide(),$(o).show(),a.find(".menu-lateral-item.ativo").removeClass("ativo"),s.addClass("ativo"))}),$(window).on("load.__widgets",function(){$("[data-widget-url]").each(function(){var s=$(this),a=s.data("widget-url");$.get(a,{"pg-mestra":"conteudo-master"},function(a){s.find(".widget-home-conteudo").html(a)})})}),window.ajaxMsg={msgs:{},init:function(){this.msgs=this.parse()},parse:function(){var s=window.sessionStorage.getItem("ajax-msg")||"{}";return s=JSON.parse(s)},add:function(s,a,e){this.msgs[a]=void 0===this.msgs[a]?[]:this.msgs[a],this.msgs[a].push({mensagem:s,id:e}),this.salvar()},exibirTodas:function(){for(var s in this.msgs)for(var a in this.msgs[s])this.exibir(s,a)},exibir:function(s,a){var e=this.msgs[s][a];this.mostrarMsgAjax(e.mensagem,s,e.id),this.msgs[s].splice(a,1),this.salvar()},salvar:function(){window.sessionStorage.setItem("ajax-msg",JSON.stringify(this.msgs))},mostrarMsgAjax:function(s,a,e){e=e||this.uuid();var o=$("#"+e);if(o.length>0)return o.removeClass("-processando").addClass("-"+a).find(".status-ajax-texto").html(s),!0;var t=$(document.createElement("div")).addClass("status-ajax-msg").addClass("-"+a).attr("id",e).appendTo($("#status-ajax"));return $(document.createElement("a")).addClass("status-ajax-texto").html(s).appendTo(t),$(document.createElement("a")).addClass("status-ajax-fechar").text("x").attr({href:"javascript:",title:"Fechar"}).on("click",function(){$(this).parents(".status-ajax-msg").fadeOut("fast",function(){$(this).remove()})}).appendTo(t),!0},uuid:function(){return"status-ajax-msg-"+Math.random().toString(36).substr(2,16)}},window.ajaxMsg.init(),window.ajaxMsg.exibirTodas(),$.ajaxSetup({global:!0,beforeSend:function(s){var a=$(document.activeElement).data("ajax-msg")||"Carregando, por favor aguarde.";s.id=window.ajaxMsg.uuid(),window.ajaxMsg.mostrarMsgAjax(a,"processando",s.id)},error:function(s){var a="ERRO "+s.status+" - "+s.statusText+": "+s.responseText;window.ajaxMsg.mostrarMsgAjax(a,"erro",s.id)},complete:function(s){window.setTimeout(function(){$("#"+s.id).find(".status-ajax-fechar").trigger("click")},7e3)}});