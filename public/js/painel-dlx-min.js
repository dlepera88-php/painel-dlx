function encerrarSessao(){$.ajax({url:"/painel-dlx/login/encerrar-sessao",type:"get",dataType:"json",success:function(e){"sucesso"===e.retorno?window.location="/":alert(e.mensagem)}})}function fecharPopupGerenciarConfiguracoes(){$("#popup-gerenciar-permissoes").fadeOut("fast",function(){$(this).remove(),$(window).off("keyup.__gerenciarPermissoes")})}function popupGerenciarConfiguracoes(e){$("#popup-gerenciar-permissoes").length<1&&$.get("/painel-dlx/grupos-de-usuarios/permissoes",{grupo_usuario_id:e,"pg-mestra":"conteudo-master"},function(e){$(document.createElement("div")).attr("id","popup-gerenciar-permissoes").addClass("popup-modal").html(e).appendTo($("body")),$(window).on("keyup.__gerenciarPermissoes",function(e){27===(e.keycode||e.which)&&fecharPopupGerenciarConfiguracoes()})})}function excluirUsuario(e){return confirm("Deseja realmente excluir esse usuário?")&&$.ajax({url:"/painel-dlx/usuarios/excluir-usuario",type:"post",data:{usuario_id:e},dataType:"json"}),!1}function excluirGrupoUsuario(e){return confirm("Deseja realmente excluir esse grupo de usuário?")&&$.ajax({url:"/painel-dlx/grupos-de-usuarios/excluir",type:"post",data:{grupo_usuario_id:e},dataType:"json"}),!1}function testarConfigSmtp(e){$.get("/painel-dlx/config-smtp/testar",{config_smtp_id:e},"json")}function adicionarPermissao(e){$(e).removeAttr("onclick").attr("onclick","retirarPermissao(this)").appendTo($("#lista-permissoes-grupo")).find(":checkbox").prop("checked",!0)}function retirarPermissao(e){$(e).removeAttr("onclick").attr("onclick","adicionarPermissao(this)").appendTo($("#lista-permissoes-sistema")).find(":checkbox").prop("checked",!1)}function excluirPermissaoUsuario(e){return confirm("Deseja realmente excluir essa permissão?")&&$.ajax({url:"/painel-dlx/permissoes/excluir-permissao",type:"post",data:{permissao_usuario_id:e},dataType:"json"}),!1}$(".menu-lateral-item[data-mostrar-html]").on("click",function(){var e=$(this),a=e.parents(".menu-lateral"),t=[],s=e.data("mostrar-html");e.hasClass("ativo")||(a.find(".menu-lateral-item[data-mostrar-html]").each(function(){t.push($(this).data("mostrar-html"))}),t=t.join(", "),$(t).hide(),$(s).show(),a.find(".menu-lateral-item.ativo").removeClass("ativo"),e.addClass("ativo"))}),$(window).on("load.__widgets",function(){$("[data-widget-url]").each(function(){var e=$(this),a=e.data("widget-url");$.get(a,{"pg-mestra":"conteudo-master"},function(a){e.find(".widget-home-conteudo").html(a)})})}),function(e){e.fn.getSelector=function(){var a=e(this),t="";return void 0!==a.attr("id")?t+="#"+a.attr("id"):void 0!==a.attr("class")&&(t+="."+a.attr("class").replace(/\s+/g,".")),t},e.getSelector=function(a){return e(a).getSelector()},e.ajaxSetup({global:!0,beforeSend:function(a,t){if(!/\.(js|css)$/.test(t.url)){t.context=document.activeElement;var s=e(t.context),o=s.data("ajax-msg")||"Carregando, por favor aguarde.",r=e(document.createElement("div")).addClass("status-ajax-msg").addClass("-processando").attr("data-ajax-origem",s.getSelector()).appendTo(e("#status-ajax"));e(document.createElement("a")).addClass("status-ajax-texto").html(o).appendTo(r),e(document.createElement("a")).addClass("status-ajax-fechar").text("x").attr({href:"javascript:",title:"Fechar"}).on("click",function(){e(this).parents(".status-ajax-msg").fadeOut("fast",function(){e(this).remove()})}).appendTo(r)}}}),e(document).ajaxSuccess(function(a,t,s){var o,r,n,i=e('#status-ajax [data-ajax-origem="'+e.getSelector(s.context)+'"]');if(void 0===t.responseJSON)try{r=(o=JSON.parse(t.responseText)).retorno,n=o.mensagem}catch(a){return i.fadeOut("fast",function(){e(this).remove()}),!1}else r=(o=t.responseJSON).retorno,n=o.mensagem;i.removeClass("-processando").addClass("-"+r).find(".status-ajax-texto").html(n)}),e(document).ajaxError(function(a,t,s){e('#status-ajax [data-ajax-origem="'+e.getSelector(s.context)+'"]').removeClass("-processando").addClass("-erro").find(".status-ajax-texto").html("ERRO "+t.status+" - "+t.statusText+": "+t.responseText)}),e(document).ajaxComplete(function(a,t,s){var o=e('#status-ajax [data-ajax-origem="'+e.getSelector(s.context)+'"]');window.setTimeout(function(){o.fadeOut("fast",function(){e(this).remove()})},1e4)})}(jQuery);