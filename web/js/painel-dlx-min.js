function calcDV(a,o){for(var t=o.length,e=0,r,n=0;n<t;n++)e+=o[n]*parseInt(a[n]);return r=e%11,r<2?0:11-r}function validaCPF(a){var o,t,e=[10,9,8,7,6,5,4,3,2],r=[11,10,9,8,7,6,5,4,3,2],n=a.replace(/[^0-9]+/g,"");return o=calcDV(n,e),t=calcDV(n,r),o===parseInt(n[9])&&t===parseInt(n[10])}function validaCNPJ(a){var o,t,e=[5,4,3,2,9,8,7,6,5,4,3,2],r=[6,5,4,3,2,9,8,7,6,5,4,3,2],n=a.replace(/[^0-9]+/g,"");return n.length<14||(o=calcDV(n,e),t=calcDV(n,r),o===parseInt(n[12])&&t===parseInt(n[13]))}function validaEAN(a){var o=[8,13,14];o.indexOf(a.length)<0&&console.warn("O número informado não segue os padrões: GTIN-"+o.join(", GTIN-"));for(var t=0,e,r=parseInt(a.substr(-1)),n=a.length,i=a.length-1,s=3,c=0;c<i;c++)t+=n>13?c%2==0?3*parseInt(a[c]):parseInt(a[c]):c%2==0?parseInt(a[c]):3*parseInt(a[c]);var l=(1e3+t)%10;return(e=0===l?0:10-l)===r}function validaUpload(a){for(var o=a.arq,t=a.exts,e=1024*parseInt(a.max)*1024,r=o.length,n,i,s,c=0;c<r;c++)if(n=o[c],i=n.name.toLowerCase(),s=i.substr(i.indexOf(".",i.length-5)+1),n.size>e||t.indexOf(s)<0)return!1;return!0}function formValidacao(a,o,t){return a?o.setCustomValidity(t):o.validity.valid||o.validationMessage!==t?null:o.setCustomValidity("")}/** @preserve
 * The MIT License (MIT) https://github.com/dlepera88-php/framework-dlx/blob/master/LICENSE
 * Copyright (c) 2017 Diego Lepera http://diegolepera.xyz/
 */
function encerrarSessao(){$.ajax({url:"login/encerrar-sessao",dataType:"json",success:function(a){"-sucesso"===a.tipo?window.location="":mostrarAlerta(a.mensagem,{tipo:a.tipo})}})}function excluirRegistro(a){var o=$(this).parents("form");a=$.extend({mensagem:"Está certo disso?",func_depois:function(){return!0},func_nao:function(){return!0},pk:o.serialize(),url:o.attr("action")},a),"string"==typeof a.func_depois&&(a.func_depois=$.proxy(encontrarFuncaoNS(a.func_depois),this)),solicitarConfirmacao(a.mensagem,function(){if(void 0===a.url)return console.error("[excluirRegistro] É necessário informar a URL para executar a exclusão do registro."),!1;$.ajax({url:a.url,type:"post",data:a.pk,success:function(o){var t=[];try{o=JSON.parse(o),"-sucesso"===o.tipo&&"function"==typeof a.func_depois&&(t=[{funcao:a.func_depois}]),mostrarAlerta(o.mensagem,{tema:"painel-dlx",tipo:o.tipo,botoes:t})}catch(a){mostrarAlerta(o,{tema:"painel-dlx",tipo:"-info"})}}})},function(){return a.func_nao()})}function __abrirModalInterno(a){var o=$(document.createElement("div")).addClass("caixa-modal").html('<p class="teclaesc">Pressione a tecla ESC para fechar.</p>'),t=$(a);if(1!==t.length)return void console.error("[__abrirModalInterno] Objeto não encontrado.");t.clone(!0,!0).addClass("contmodal").css("display","initial").appendTo(o),o.appendTo($("body"))}function __abrirModalExterno(a,o){var t=$(document.createElement("div")).addClass("caixa-modal").html('<p class="teclaesc">Pressione a tecla ESC para fechar.</p>');o=o||"conteudo",$.ajax({url:a+(a.indexOf("?")>-1?"&":"?")+"dlx-mestra="+o,success:function(a){t.html(t.html()+a).find(".dlx-conteudo").addClass("contmodal"),t.appendTo($("body"))}}),t.appendTo($("body"))}adicionarEvento($('[data-acao="excluir-registro"]'),"click.__excluirRegistro",function(){excluirRegistro.apply(this,[$(this).data()])});var listaRegistros={identificarForm:function(a){var o=$(a),t;return t="FORM"===a.tagName?o:o.parents("form").length>0?o.parents("form"):$("form")},excluirLinhasSelecionadas:function(a){a=a||listaRegistros.identificarForm(this),a.find(":checkbox:checked").each(function(){$(this).parents("tr").remove()})},marcarLinhasID:function(a,o,t){if("object"==typeof a)for(var e=a.length,r=0;r<e;r++)listaRegistros.marcarLinhasID(a[r],o);else o=void 0===o||o,t=t||listaRegistros.identificarForm(this),t.length>0?t.find(':checkbox[name^="id"][value="'+a+'"]').prop("checked",o):console.error("[listaRegistros.marcarLinhasID] Formulário não encontrado!")},marcarTodasLinhas:function(a,o){o=o||listaRegistros.identificarForm(this),a=void 0===a||a,o.find(':checkbox[name^="id"]').prop("checked",a)}},formRegistro={registroSalvo:function(a){var o=$(this),t=[];"object"==typeof a?("-sucesso"===a.tipo&&(void 0!==o.data("url-lista")&&t.push({texto:"Lista",funcao:function(){window.location=o.data("url-lista")},params:{class:"botao com-icone -botao -lista"}}),void 0!==o.data("url-detalhes")&&t.push({texto:"Detalhes",funcao:function(){window.location=o.data("url-detalhes").replace(":id",a.id)},params:{class:"botao com-icone -botao -detalhes"}}),void 0!==o.data("url-editar")&&t.push({texto:"Editar",funcao:function(){window.location=o.data("url-editar").replace(":id",a.id)},params:{class:"botao com-icone -botao -editar"}}),void 0!==o.data("url-novo")&&t.push({texto:"Novo",funcao:function(){window.location=o.data("url-novo")},params:{class:"botao com-icone -botao -inserir"}})),mostrarAlerta(a.mensagem,{tipo:a.tipo,tema:"painel-dlx",botoes:t})):mostrarAlerta(a,{tipo:"-info",tema:"painel-dlx"})},registroExcluido:function(){history.back()}};adicionarEvento($('[data-acao="abrir-modal-interno"]'),"click.__abrirModalInterno",function(){__abrirModalInterno.apply(this,[$(this).data("modal-seletor")])}),adicionarEvento($("body"),"keyup.__abrirModalInterno",function(a){27===(a.keycode||a.which)&&$(".caixa-modal").fadeOut("fast",function(){$(this).remove()})}),adicionarEvento($('[data-acao="abrir-modal-externo"]'),"click.__abrirModalExterno",function(){var a=$(this).data();__abrirModalExterno.apply(this,[a["modal-url"],a["modal-mestra"]])}),adicionarEvento($("body"),"keyup.__abrirModalExterno",function(a){27===(a.keycode||a.which)&&$(".caixa-modal").fadeOut("fast",function(){$(this).remove()})});