function calcDV(a,t){for(var e=t.length,o=0,n,i=0;i<e;i++)o+=t[i]*parseInt(a[i]);return n=o%11,n<2?0:11-n}function validaCPF(a){var t,e,o=[10,9,8,7,6,5,4,3,2],n=[11,10,9,8,7,6,5,4,3,2],i=a.replace(/[^0-9]+/g,"");return t=calcDV(i,o),e=calcDV(i,n),t===parseInt(i[9])&&e===parseInt(i[10])}function validaCNPJ(a){var t,e,o=[5,4,3,2,9,8,7,6,5,4,3,2],n=[6,5,4,3,2,9,8,7,6,5,4,3,2],i=a.replace(/[^0-9]+/g,"");return i.length<14||(t=calcDV(i,o),e=calcDV(i,n),t===parseInt(i[12])&&e===parseInt(i[13]))}function validaEAN(a){var t=[8,13,14];t.indexOf(a.length)<0&&console.warn("O número informado não segue os padrões: GTIN-"+t.join(", GTIN-"));for(var e=0,o,n=parseInt(a.substr(-1)),i=a.length,r=a.length-1,s=3,c=0;c<r;c++)e+=i>13?c%2==0?3*parseInt(a[c]):parseInt(a[c]):c%2==0?parseInt(a[c]):3*parseInt(a[c]);var l=(1e3+e)%10;return(o=0===l?0:10-l)===n}function validaUpload(a){for(var t=a.arq,e=a.exts,o=1024*parseInt(a.max)*1024,n=t.length,i,r,s,c=0;c<n;c++)if(i=t[c],r=i.name.toLowerCase(),s=r.substr(r.indexOf(".",r.length-5)+1),i.size>o||e.indexOf(s)<0)return!1;return!0}function formValidacao(a,t,e){return a?t.setCustomValidity(e):t.validity.valid||t.validationMessage!==e?null:t.setCustomValidity("")}/** @preserve
 * The MIT License (MIT) https://github.com/dlepera88-php/framework-dlx/blob/master/LICENSE
 * Copyright (c) 2017 Diego Lepera http://diegolepera.xyz/
 */
function encerrarSessao(){$.ajax({url:"login/encerrar-sessao",dataType:"json",success:function(a){"-sucesso"===a.tipo?window.location="":mostrarAlerta(a.mensagem,{tipo:a.tipo})}})}function excluirRegistro(a){var t=$(this).parents("form");a=$.extend({mensagem:"Está certo disso?",func_depois:function(){return!0},func_nao:function(){return!0},pk:t.serialize(),url:t.attr("action")},a),"string"==typeof a.func_depois&&(a.func_depois=$.proxy(encontrarFuncaoNS(a.func_depois),this)),solicitarConfirmacao(a.mensagem,function(){if(void 0===a.url)return console.error("[excluirRegistro] É necessário informar a URL para executar a exclusão do registro."),!1;$.ajax({url:a.url,type:"post",data:a.pk,success:function(t){var e=[];try{t=JSON.parse(t),"-sucesso"===t.tipo&&"function"==typeof a.func_depois&&(e=[{funcao:a.func_depois}]),mostrarAlerta(t.mensagem,{tema:"painel-dlx",tipo:t.tipo,botoes:e})}catch(a){mostrarAlerta(t,{tema:"painel-dlx",tipo:"-info"})}}})},function(){return a.func_nao()})}function __abrirModalInterno(a){var t=$(document.createElement("div")).addClass("caixa-modal").html('<p class="teclaesc">Pressione a tecla ESC para fechar.</p>'),e=$(a);if(1!==e.length)return void console.error("[__abrirModalInterno] Objeto não encontrado.");e.clone(!0,!0).addClass("contmodal").css("display","initial").appendTo(t),t.appendTo($("body"))}function __abrirModalExterno(a,t){var e=$(document.createElement("div")).addClass("caixa-modal").html('<p class="teclaesc">Pressione a tecla ESC para fechar.</p>');t=t||"conteudo",$.ajax({url:a+(a.indexOf("?")>-1?"&":"?")+"dlx-mestra="+t,success:function(a){e.html(e.html()+a).find(".dlx-conteudo").addClass("contmodal"),e.appendTo($("body"))}}),e.appendTo($("body"))}"undefined"!=typeof CKEDITOR&&(CKEDITOR.disableAutoInline=!0,CKEDITOR.stylesSet.add("default",[{name:"Título 1",element:"h1",attributes:{class:"titulo-h1"}},{name:"Título 2",element:"h2",attributes:{class:"titulo-h2"}},{name:"Título 3",element:"h3",attributes:{class:"titulo-h3"}},{name:"Título 4",element:"h4",attributes:{class:"titulo-h4"}},{name:"Título 5",element:"h5",attributes:{class:"titulo-h5"}},{name:"Título 6",element:"h6",attributes:{class:"titulo-h6"}},{name:"Palavra Forte",element:"strong"}]),CKEDITOR.config.coreStyles_bold={element:"b"},CKEDITOR.config.extraPlugins="lineutils,notification,notificationaggregator,widget,widgetselection,popup",$('[data-ckeditor="true"]').each(function(){var a=$(this),t=this.id;CKEDITOR.replace(t,a.data()),a.parents("form").on("submit.__ckeditor",function(){a.val($("#cke_"+t).find("iframe").contents().find("[contenteditable]").html())})})),adicionarEvento($('[data-acao="excluir-registro"]'),"click.__excluirRegistro",function(){excluirRegistro.apply(this,[$(this).data()])});var listaRegistros={identificarForm:function(a){var t=$(a),e;return e="FORM"===a.tagName?t:t.parents("form").length>0?t.parents("form"):$("form")},excluirLinhasSelecionadas:function(a){a=a||listaRegistros.identificarForm(this),a.find(":checkbox:checked").each(function(){$(this).parents("tr").remove()})},marcarLinhasID:function(a,t,e){if("object"==typeof a)for(var o=a.length,n=0;n<o;n++)listaRegistros.marcarLinhasID(a[n],t);else t=void 0===t||t,e=e||listaRegistros.identificarForm(this),e.length>0?e.find(':checkbox[name^="id"][value="'+a+'"]').prop("checked",t):console.error("[listaRegistros.marcarLinhasID] Formulário não encontrado!")},marcarTodasLinhas:function(a,t){t=t||listaRegistros.identificarForm(this),a=void 0===a||a,t.find(':checkbox[name^="id"]').prop("checked",a)}},formRegistro={registroSalvo:function(a){var t=$(this),e=[];"object"==typeof a?("-sucesso"===a.tipo&&(void 0!==t.data("url-lista")&&e.push({texto:"Lista",funcao:function(){window.location=t.data("url-lista")},params:{class:"botao com-icone -botao -lista"}}),void 0!==t.data("url-detalhes")&&e.push({texto:"Detalhes",funcao:function(){window.location=t.data("url-detalhes").replace(":id",a.id)},params:{class:"botao com-icone -botao -detalhes"}}),void 0!==t.data("url-editar")&&e.push({texto:"Editar",funcao:function(){window.location=t.data("url-editar").replace(":id",a.id)},params:{class:"botao com-icone -botao -editar"}}),void 0!==t.data("url-novo")&&e.push({texto:"Novo",funcao:function(){window.location=t.data("url-novo")},params:{class:"botao com-icone -botao -inserir"}})),mostrarAlerta(a.mensagem,{tipo:a.tipo,tema:"painel-dlx",botoes:e})):mostrarAlerta(a,{tipo:"-info",tema:"painel-dlx"})},registroExcluido:function(){history.back()}},formSenha={senhaAlterada:function(a){if("object"==typeof a){var t=[];switch(a.tipo){case"-sucesso":t.push({texto:"Ok",funcao:function(){window.location=""}});break;default:case"-erro":t.push({texto:"Tentar novamente",funcao:function(){this.reset()}}),t.push({texto:"Deixa pra lá",funcao:function(){history.back()}});break}mostrarAlerta(a.mensagem,{tipo:a.tipo,tema:"painel-dlx",botoes:t})}else mostrarAlerta(a,{tipo:"-info",tema:"painel-dlx"})}};adicionarEvento($('[data-acao="abrir-modal-interno"]'),"click.__abrirModalInterno",function(){__abrirModalInterno.apply(this,[$(this).data("modal-seletor")])}),adicionarEvento($("body"),"keyup.__abrirModalInterno",function(a){27===(a.keycode||a.which)&&$(".caixa-modal").fadeOut("fast",function(){$(this).remove()})}),adicionarEvento($('[data-acao="abrir-modal-externo"]'),"click.__abrirModalExterno",function(){var a=$(this).data();__abrirModalExterno.apply(this,[a["modal-url"],a["modal-mestra"]])}),adicionarEvento($("body"),"keyup.__abrirModalExterno",function(a){27===(a.keycode||a.which)&&$(".caixa-modal").fadeOut("fast",function(){$(this).remove()})}),adicionarEvento($('.previs-imagem [type="file"]'),"change.__previsImagem",function(){var a=$(this),t=a.parents(".previs-imagem"),e=t.find("img"),o=URL.createObjectURL(this.files[0]),n;e.length>0?e.css("display","none").attr("src",o).fadeIn("slow"):e=$(document.createElement("img")).attr("src",o).css("display","none").appendTo(a.parents(".previs-imagem")).fadeIn("slow"),e.on("load.__previsImage",function(){"function"==typeof obterOrientacaoIMG&&(n=obterOrientacaoIMG(this),t.removeClass("-v -h -q"),t.addClass("-"+n))})});